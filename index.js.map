{"version":3,"file":"index.js","sources":["../src/js/local-storage-api.js","../src/js/refs.js","../src/js/render-tasks.js","../src/js/handlers.js","../src/js/theme-switcher.js","../src/main.js"],"sourcesContent":["const STORAGE_KEY = 'tasks';\nfunction getTasks() {\n  return JSON.parse(localStorage.getItem(STORAGE_KEY));\n}\n\nfunction saveTask(task) {\n  const tasks = getTasks();\n  tasks.push(task);\n  localStorage.setItem(STORAGE_KEY, JSON.stringify(tasks));\n}\nfunction initTasks() {\n  const tasks = getTasks() ?? [];\n  localStorage.setItem(STORAGE_KEY, JSON.stringify(tasks));\n}\nfunction removeTask(id) {\n  const tasks = getTasks();\n  const filteredTasks = tasks.filter(task => task.id !== id);\n  localStorage.setItem(STORAGE_KEY, JSON.stringify(filteredTasks));\n}\nconst STORAGE_THEME = 'theme';\nfunction getTheme() {\n  return JSON.parse(localStorage.getItem(STORAGE_THEME));\n}\nfunction saveTheme(theme) {\n    localStorage.setItem(STORAGE_THEME, JSON.stringify(theme));\n}\nfunction initTheme() {\n    const them = getTheme();\n    if(!them) {\n        saveTheme('theme-dark');\n        return 'theme-dark';\n    }\n    return them;\n \n}\n\nexport default { getTasks, saveTask, initTasks, removeTask, getTheme, saveTheme, initTheme };\n","export const refs = {\n    form: document.querySelector('#task-form'),\n    taskList: document.querySelector('#task-list'),\n    buttonChangeTheme: document.querySelector('#themeToggle'),\n    body: document.querySelector('body'),\n}\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n","import { refs } from './refs';\n\nexport function renderTaskList(tasks) {\n  const markup = tasks\n    .map(\n      ({ name, description, id }) => `<li class=\"task-list-item\">\n      <button class=\"task-list-item-btn\" data-id =\"${id}\">Delete</button>\n      <h3>${name}</h3>\n      <p>${description}</p>\n  </li>`\n    )\n    .join('');\n  refs.taskList.innerHTML = markup;\n}\n","import { nanoid } from 'nanoid/non-secure';\nimport localStorageApi from './local-storage-api';\nimport { renderTaskList } from './render-tasks';\n\nexport function onTaskFormSubmit(e) {\n  e.preventDefault();\n  const { taskName, taskDescription } = e.target.elements;\n  const name = taskName.value.trim();\n  const description = taskDescription.value.trim();\n  if (!name || !description) {\n    alert('Fill all the fields');\n    return;\n  }\n  const task = {\n    name,\n    description,\n    id: nanoid(),\n  };\n  localStorageApi.saveTask(task);\n  renderTaskList(localStorageApi.getTasks());\n  e.target.reset();\n}\n\nexport function onTaskDelete(e) {\n  if (e.target.nodeName !== 'BUTTON') {\n    return;\n  }\n  const id = e.target.dataset.id;\n  const tasks = localStorageApi.getTasks();\n  localStorageApi.removeTask(id);\n  renderTaskList(tasks.filter(task => task.id !== id));\n}\n","import localStorageApi from \"./local-storage-api\";\nimport { refs } from \"./refs\";\nexport function applyInitialTheme() {\n  const theme = localStorageApi.initTheme();\n  refs.body.classList.add(theme);\n}\nexport function onThemeChanged() {\n       const isDark = refs.body.classList.contains('theme-dark');\n  const newTheme = isDark ? 'theme-light' : 'theme-dark';\n  refs.body.classList.remove('theme-dark');\n  refs.body.classList.add(newTheme);\n  \n  localStorageApi.saveTheme(newTheme);\n}","import { onTaskDelete, onTaskFormSubmit } from './js/handlers';\nimport { refs } from './js/refs';\nimport localStorageApi from './js/local-storage-api';\nimport { renderTaskList } from './js/render-tasks';\nimport { applyInitialTheme, onThemeChanged } from './js/theme-switcher';\n/*\n  Створи список справ.\n  На сторінці є два інпути які має вводиться назва і текст задачі.\n  Після натискання на кнопку \"Add\" завдання додається до списку #task-list.\n\n  У кожної картки має бути кнопка \"Delete\", щоб можна було\n  прибрати завдання зі списку.\n  Список із завданнями має бути доступним після перезавантаження сторінки.\n\n  Розмітка картки задачі\n  <li class=\"task-list-item\">\n      <button class=\"task-list-item-btn\">Delete</button>\n      <h3>Заголовок</h3>\n      <p>Текст</p>\n  </li>\n*/\nlocalStorageApi.initTasks();\nrenderTaskList(localStorageApi.getTasks());\nrefs.form.addEventListener('submit', onTaskFormSubmit);\nrefs.taskList.addEventListener('click', onTaskDelete);\napplyInitialTheme();\nrefs.buttonChangeTheme.addEventListener('click', onThemeChanged);\n"],"names":["STORAGE_KEY","getTasks","saveTask","task","tasks","initTasks","removeTask","id","filteredTasks","STORAGE_THEME","getTheme","saveTheme","theme","initTheme","them","localStorageApi","refs","renderTaskList","markup","name","description","onTaskFormSubmit","taskName","taskDescription","nanoid","onTaskDelete","applyInitialTheme","onThemeChanged","newTheme"],"mappings":"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"}